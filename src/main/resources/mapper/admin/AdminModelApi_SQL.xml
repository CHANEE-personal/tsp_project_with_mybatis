<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tsp.new_tsp_project.api.admin.model.service.impl.AdminModelMapper">

	<!-- 모델 수 조회 -->
	<select id="getModelListCnt" parameterType="java.util.HashMap" resultType="Integer">
		/*[AdminModelApi_SQL.xml].[getModelListCnt] */
		SELECT COUNT(*)
		FROM tsp_model
		WHERE visible = 'Y'
	</select>

	<!-- 모델 리스트 출력 -->
	<select id="getModelList" parameterType="java.util.HashMap" resultType="adminModelDto">
		/*[AdminModelApi_SQL.xml].[getModelList] */
		SELECT idx,
		       category_cd,
		       category_nm,
			   model_name,
			   model_description,
			   visible
		FROM tsp_model
		ORDER BY idx ASC
			LIMIT #{startPage}, #{size}
	</select>

	<select id="getModelInfo" parameterType="adminModelDto" resultType="java.util.HashMap">
		/*[AdminModelApi_SQL.xml].[getModelInfo] */
		SELECT idx,
			   category_cd,
			   category_nm,
			   model_name,
			   model_description,
			   visible
		FROM tsp_model
		WHERE visible = 'Y'
		  AND category_cd = #{categoryCd}
		  AND idx = #{idx}
	</select>

</mapper>